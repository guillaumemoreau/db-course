# Functional modeling

## Before starting

- There exists several model types
  - Entity-Association model
  - UML model
  - SysML model
  - ...
- We cannot study all of them

# Entity-Association Model

## The Entity-Relationship model

- Was created around 1975
  - In France by Tardieu
  - In the US by Chen
- It integrates Merise (modelling method)

## The Entity-Relationship model

- Goal: allow the design/description of the conceptual structure of data for an application
- The base principals are equivalent to real-life abstraction concepts
  - object vs entity
  - link vs relationship
  - property vs attribute
  - representation of multiple links: link *is-a*

## The Entity-Relationship model

  Entity

  - Either a concrete or abstract  object
  - Exists as an instance of itself
  - Is of interest for the information system
  - Needs to be managed

## Entity

  - Entity: it represents an object of the real world having a life of its own
  - Entity Type: representation of a set of entities perceived as similar and having the same characteristics

  \center\includegraphics[height=2.9cm]{fig/entity.png}

## Entity: properties

  - Must define at least 1 characteristic of the entity that it depends on
  - It is needed for use in the information systems
  - Elementary data
  - It needs to be managed
  - Has a definite domain: {possible values}
  - Some properties may be impossible to define
  - Occurences
    - of properties
    - of entities

## Entity: properties

Properties: the characteristics of an entity

\center\includegraphics[height=2.9cm]{fig/book.png}

## Properties

- Simple (atomic)
  - cannot be decomposed
  - examples: day, first name
- Domain: atomic values
  - day: belongs to $\{ 1, 2, ... , 31 \}
  - predefined sets, intervals, enumerations

## Properties

- Complex (can be decomposed into other properties)
- to avoid and decompose into simpler elements
- examples
  - address
  - dates (can be an exception)
- A complex property does not have a proper value (no directly associated domain)
  - its value is the composition of the values of the component properties
- A component of a complex property can also be a complex property and this decomposed

## Properties

- **single value**: one value per occurrence (max cardinality = 1)
  - example: StudentID, Licence number, degree name
- **multiple value**: several values per occurrence (max cardinality >1)
  - Avoid!
  - examples: first names, phone numbers
  - the value of a multiple value property is a set (or a list or a multiset) of values, each of which belongs to the domain associated with the property

## Properties

- **mandatory**: at least one value per occurrence (min cardinality >= 1)
  - example: names
- **optional**: may not have a value (min cardinality = 0)
- Whether a value is mandatory or optional is determined by the applications needs
  - if we accept to register someone without knowing his/her birthdate, then the *birthdate* property will be optional (otherwise mandatory)
  - Think about the consequences!


## Occurences

- Occurrence
  - for a property
    - pair (property , its value)
  - for an entity
    - pair (entity , { occurrences of properties } )
- Population { occurrences of entities}

## Example

Entity  |  Property |  Occurrences
--|---|--
Book  | Number  |  15
  $\,$ | $\,$   |  124
  $\,$ | Title  |  Relational Databases
  $\,$ | $\,$   |  The grapes of Wrath
  $\,$ | Author  |  Delobel
  $\,$ | $\,$   |  Steinbeck
  $\,$ | Year  | 1992
  $\,$ | $\,$   |  1939

## Representation

- Textual:
  - name_of_the_entity( list_of_properties )
    - where list_of_properties is a comma-seperated list of properties
- Graphically:

\center\includegraphics[height=2.9cm]{fig/ER-entity.png}

## Example

Book (Number, Title, Author, Year_Published)

\center\includegraphics[height=2.9cm]{fig/ER-book.png}

## Entities versus occurrences

\center\includegraphics[height=5cm]{fig/ea-example.pdf}


## Choosing the properties of an entity

- A property is directly linked to the entity it belongs to
- A property cannot evolve under the influence of time (i.e. choose birth date rather than age)
- Avoid property introducing information redundancy

## Relationship

- Semantic link among a set of entities
- Non-directional link
- Is of interest for the information system
- Needs to be managed
- Examples
  - has-written between Author and Book
  - has-published between Publisher and Book
  - has-borrowed between a Book, a Reader and a Date  

## Remarks

- A relationship **always** occurs between entities
- A relationship can **never** occur between relationships
- An entity is **never** directly related to another entity

## Representation

- Textual:
  - relationship_name = < entity_1, ...,  entity_n >
- Graphically:

\center\includegraphics[height=2.6cm]{fig/ER-relationship.png}

## Mapping - association

- Mapping: represents a non oriented link between several entities (which play a predetermined part)
- Mapping type: represents a set of mappings having the same semantics et described by the same characteristics

\center\includegraphics[height=2.6cm]{fig/mapping-1.pdf}

## Definitions

- **Collection**: set of entities involved in the mapping
- **Dimension**: number of entities involved in the mapping

## Properties of a relationship

The design of the model sometimes imposes some properties to the relationships

\center\includegraphics[height=2.6cm]{fig/ER-relationship2.png}

## Relationships types

- Binary

\center\includegraphics[height=2.6cm]{fig/ER-relationship.png}

## Relationships types

- Ternary

\center\includegraphics[height=5cm]{fig/ER-relationship3.png}

## Ternary mapping

\center\includegraphics[height=3cm]{fig/ER-map3.pdf}

## Relationships types

- Hierarchical / Transitive

\center\includegraphics[height=2.9cm]{fig/ER-relationshiph.png}

## Relationships types

- Symmetrical / Cyclic

\center\includegraphics[height=2.9cm]{fig/ER-relationships.png}

## Symmetrical mapping

\center\includegraphics[width=.5\textwidth]{fig/mapping-sym.pdf}

## Symmetrical mapping (continued)

\center\includegraphics[width=.5\textwidth]{fig/mapping-sym2.pdf}

- Issue: how to know in a couple who is who?

## Symmetrical mapping (continued)

- Solution: specify the role of each entity to solve ambiguities
- 1 "is\_married\_to" = <1 Person/Wife, 1 Person/Husband>

\center\includegraphics[width=.5\textwidth]{fig/mapping-sym3.pdf}

## Cardinalities

\center\includegraphics[height=5cm]{fig/cardinalities.png}

## Cardinalities

\center\includegraphics[width=.5\textwidth]{fig/mapping-c1.pdf}

- Two questions raised (per link)
  - How many cars minimum may someone have?
  - How many cars maximum may someone have?

  \center\includegraphics[width=.5\textwidth]{fig/mapping-c2.pdf}

## Cardinality

- defined on the link between an entity and a relationship
  - minimum number of connections: 0 or 1
  - maximum number of connections: 1 or n
- Possible values
  - 0:1
  - 0:n
  - 1:1
  - 1:n

## Example 1

- An order is placed by only one client
- A client can place no order at all or can place multiple orders
- details
  - It is compulsory that an order is placed, min = 1
  - An order is linked to only 1 client, max = 1
  - A client can place no order at all, min = 0
  - A client can place multiple orders, max = n

\includegraphics[width=\textwidth]{fig/client-order.png}

## Example 2

- A person may not own a car or have 1 or several car

\center\includegraphics[width=.5\textwidth]{fig/mapping-c3.pdf}

- A car has one and only one owner

\center\includegraphics[width=.8\textwidth]{fig/mapping-c4.pdf}

## Cardinalities at large

- **0:1** The entity can be linked to a maximum of 1 other...
- **0:n** The entity can be linked to more than 1 other...
- **1:1** The entity can be linked to only 1 other...
- **1:n** The entity can be linked to at least 1 other...

## Identifiers

- Definition: A minimum set of properties whereby there is no other occurrence in the entity where that values of the properties are the same.
- All entities must have an identifier
- The identifier of an entity is shown by underlining the properties forming part of the identifier

## Other notations

\center\includegraphics[width=.8\textwidth]{fig/mapping-c5.pdf}

## Other notations

\center\includegraphics[width=.8\textwidth]{fig/mapping-c6.pdf}
